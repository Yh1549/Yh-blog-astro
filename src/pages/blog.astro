---
// import {collections} from "../posts/config"
// import { getCollection } from "astro:content";
// import {  getEntry, getEntries } from 'astro:content';
import Layout from "../layouts/Layout.astro";

const pageTitle = "blog";
const posts = await Astro.glob("../content/blogCollection/*.md");

// const posts = await getEntry("blogCollection","post-1");
// const featured = await getEntries()
// const featuredPost = posts.filter((blog) => blog.data.featured);
// const relatedPosts = await getEntries(blog.data.featured);
---

<!-- <script>const posts = await Astro.glob("../posts/*.md")</script> -->
<Layout title={pageTitle}>
  <main>
    <h1>My Astro Learning Blog</h1>
    <p>This is where I will post about my journey learning Astro.</p>
    <!-- <ul>
      <li><a href="/posts/post-1/">Post 1</a></li>
      <li><a href="/posts/post-2/">Post 2</a></li>
      <li><a href="/posts/post-3/">Post 3</a></li>
    </ul> -->
    <div>
      {
        posts.map((post) => (
          <div>{post.frontmatter.slug}</div>
          <div>{post.frontmatter.excerpt}</div>
          <a href={`/${post.frontmatter.slug}`}>post-1</a>
        ))
      }
    </div>
  </main>
</Layout>
